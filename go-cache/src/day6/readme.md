# day6
- 缓存击穿：一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB ，造成瞬时DB请求量大、压力骤增。
- 使用singleflight避免缓存击穿
- go语言的sync.singleflight包可以防止缓存击穿
  - singleflight通过加锁和map结构实现了请求的合并
  - 出现多个相同请求时，这些请求将会被合并成为一个请求
  - 在分布式缓存中，该逻辑对应的就是：出现多个相同请求时，只会有一个请求去查询数据库，避免了数据库承受过大的压力，从而避免缓存击穿
- 通过模仿sync.singleflight，也可以实现相似的功能